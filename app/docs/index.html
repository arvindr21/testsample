<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="product" content="Metro UI CSS Framework">
    <meta name="description" content="Simple responsive css framework">
    <meta name="author" content="Sergey S. Pimenov, Ukraine, Kiev">
    <meta name="keywords" content="js, css, metro, framework, windows 8, metro ui">

    <link href="css/metro-bootstrap.css" rel="stylesheet">
    <link href="css/metro-bootstrap-responsive.css" rel="stylesheet">
    <link href="css/docs.css" rel="stylesheet">
    <link href="js/prettify/prettify.css" rel="stylesheet">

    <!-- Load JavaScript Libraries -->
    <script src="js/jquery/jquery.min.js"></script>
    <script src="js/jquery/jquery.widget.min.js"></script>
    <script src="js/jquery/jquery.mousewheel.js"></script>
    <script src="js/prettify/prettify.js"></script>

    <!-- Metro UI CSS JavaScript plugins -->
    <script src="js/load-metro.js"></script>

    <!-- Local JavaScript -->
    <script src="js/docs.js"></script>
  
    <title>Movie Manager</title>

    <style>
    .metro .listview .list
    {
        display: inline-block;
    }
    </style>
</head>
<body class="metro" style="background-color: #efeae3">
    <header class="bg-dark" data-load="header.html"></header>

    <div class="">
        

        <div class="container">
            <div class="grid fluid">
                <div class="row">
                    <div class="span4 bg-amber padding20 text-center">
                        <h2 class="fg-white">Built with Backbonejs</h2>
                    </div>
                    <div class="span4 bg-green padding20 text-center">
                        <h2 class="fg-white">Uses Metro UI CSS</h2>
                    </div>
                    <div class="span4 bg-red padding20 text-center">
                        <h2 class="fg-white">Rotten Tomatos API</h2>
                    </div>
                </div>
            </div>
        </div>

        <div class="container" id="list">
          

                     


        </div>

       <div style="clear:both;"></div>

        <div class="bg-dark">
            <div class="container tertiary-text bg-dark fg-white" style="padding: 10px">
                All Rights Reserved
            </div>
        </div>
    </div>
    <script type="text/javascript">
$(document).ready(function () {
  



     $.ajax("http://api.rottentomatoes.com/api/public/v1.0/movies.json", {
            data: {
                apikey: "qwgqtm5rwfv2wgp9etr83hap",
                q: "hello",
                page_limit : 10,
                page : 1
            },
            dataType: "jsonp",
            success: function(data) {
                response(data.movies);           
            }
        });


     var response = function(data)
     {
        console.log(data);

        var template = '<div class="tile double"><div class="tile-content image"><img src="@@src@@"></div><div class="brand bg-dark opacity"><span class="text">@@text@@</span></div></div>';

        var html = "";
            $.each(data, function(k,data){
                    html += template.replace("@@src@@", data.detailed).replace("@@text@@",data.synopsis);
            });
            $("#list").append(html);
              
     }
});

    </script>

</body>
</html>